<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬9ç« ï¼šå…ˆè¿›å·¥è‰ºä¸å°è£…æŠ€æœ¯ - NPUè®¾è®¡æ•™ç¨‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .nav-bar {
            background: #34495e;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .nav-bar ul {
            list-style: none;
            display: flex;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0;
        }

        .nav-bar li {
            margin: 0 15px;
        }

        .nav-bar a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .nav-bar a:hover {
            background: #2c3e50;
        }

        .nav-bar .current {
            background: #2c3e50;
            font-weight: bold;
        }

        .chapter {
            background: white;
            margin: 20px 0;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .chapter h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }

        .chapter h3 {
            color: #34495e;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }

        .chapter h4 {
            color: #7f8c8d;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
            position: relative;
        }
        
        /* Language label */
        .code-block::before {
            content: attr(data-language);
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 12px;
            color: #95a5a6;
            text-transform: uppercase;
        }
        
        /* Syntax highlighting classes */
        .code-block .keyword { color: #e74c3c; font-weight: bold; }
        .code-block .type { color: #3498db; }
        .code-block .comment { color: #95a5a6; font-style: italic; }
        .code-block .number { color: #e67e22; }
        .code-block .string { color: #2ecc71; }
        .code-block .function { color: #3498db; }

        .exercise {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
        }

        .exercise h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .question {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .answer {
            margin-top: 10px;
            padding: 15px;
            background: #e8f5e9;
            border-radius: 5px;
            display: none;
            border-left: 4px solid #4caf50;
        }

        .answer.show {
            display: block;
        }
        
        .hint {
            margin: 10px 0;
            padding: 10px 15px;
            background: #fff8dc;
            border-left: 4px solid #ffa500;
            border-radius: 5px;
            font-size: 0.95em;
        }
        
        .hint summary {
            cursor: pointer;
            font-weight: bold;
            color: #ff8c00;
            outline: none;
        }
        
        .hint summary:hover {
            color: #ff6347;
        }
        
        .hint p {
            margin-top: 10px;
            color: #666;
        }

        .toggle-answer {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
            transition: background 0.3s;
        }

        .toggle-answer:hover {
            background: #2980b9;
        }

        .table-wrapper {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #34495e;
            color: white;
            font-weight: bold;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ff9800;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .chapter-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
        }

        .chapter-nav a {
            background: #3498db;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .chapter-nav a:hover {
            background: #2980b9;
        }

        .chapter-nav .prev::before {
            content: "â† ";
        }

        .chapter-nav .next::after {
            content: " â†’";
        }

        /* Mobile Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 20px 10px;
            }
            
            header h1 {
                font-size: 1.5em;
            }
            
            .chapter {
                padding: 15px;
                margin: 10px 0;
            }
            
            .chapter h2 {
                font-size: 1.5em;
            }
            
            .chapter h3 {
                font-size: 1.2em;
            }
            
            .nav-bar ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-bar li {
                margin: 5px;
            }
            
            .code-block {
                padding: 10px;
                font-size: 12px;
            }
            
            table {
                font-size: 14px;
            }
            
            th, td {
                padding: 8px;
            }
        }
    </style>
    <script>
        // Syntax highlighting functions
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }
        
        function highlightSyntax() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(block => {
                const content = block.textContent;
                let language = 'text';
                let highlighted = content;
                
                // Auto-detect language based on content
                if (content.includes('module ') || content.includes('always @') || content.includes('wire ') || content.includes('reg ')) {
                    language = 'verilog';
                    highlighted = highlightVerilog(content);
                } else if (content.includes('import ') || content.includes('def ') || content.includes('class ')) {
                    language = 'python';
                    highlighted = highlightPython(content);
                }
                
                block.innerHTML = highlighted;
                block.classList.add(language);
                block.setAttribute('data-language', language);
            });
        }
        
        function highlightVerilog(code) {
            const placeholders = [];
            let placeholderIndex = 0;
            
            // Replace comments with placeholders
            code = code.replace(/(\/\/.*$|\/\*[\s\S]*?\*\/)/gm, (match) => {
                const placeholder = `__COMMENT_${placeholderIndex}__`;
                placeholders[placeholderIndex] = `<span class="comment">${escapeHtml(match)}</span>`;
                placeholderIndex++;
                return placeholder;
            });
            
            // Replace strings with placeholders
            code = code.replace(/("[^"]*")/g, (match) => {
                const placeholder = `__STRING_${placeholderIndex}__`;
                placeholders[placeholderIndex] = `<span class="string">${escapeHtml(match)}</span>`;
                placeholderIndex++;
                return placeholder;
            });
            
            // Apply highlights
            const keywords = /\b(module|endmodule|input|output|wire|reg|always|assign|begin|end|if|else|for|while|parameter|posedge|negedge)\b/g;
            const types = /\b(bit|logic|byte|shortint|int|longint|integer|time|real)\b/g;
            const numbers = /\b(\d+'[hbdo][\da-fA-F_]+|\d+)\b/g;
            
            code = code.replace(keywords, '<span class="keyword">$1</span>');
            code = code.replace(types, '<span class="type">$1</span>');
            code = code.replace(numbers, '<span class="number">$1</span>');
            
            // Restore placeholders
            for (let i = 0; i < placeholderIndex; i++) {
                code = code.replace(new RegExp(`__COMMENT_${i}__`, 'g'), placeholders[i]);
                code = code.replace(new RegExp(`__STRING_${i}__`, 'g'), placeholders[i]);
            }
            
            return code;
        }
        
        function highlightPython(code) {
            const placeholders = [];
            let placeholderIndex = 0;
            
            // Replace comments
            code = code.replace(/(#.*$)/gm, (match) => {
                const placeholder = `__COMMENT_${placeholderIndex}__`;
                placeholders[placeholderIndex] = `<span class="comment">${escapeHtml(match)}</span>`;
                placeholderIndex++;
                return placeholder;
            });
            
            // Replace strings
            code = code.replace(/("[^"]*"|'[^']*')/g, (match) => {
                const placeholder = `__STRING_${placeholderIndex}__`;
                placeholders[placeholderIndex] = `<span class="string">${escapeHtml(match)}</span>`;
                placeholderIndex++;
                return placeholder;
            });
            
            // Apply highlights
            const keywords = /\b(and|as|assert|break|class|continue|def|del|elif|else|except|False|finally|for|from|global|if|import|in|is|lambda|None|not|or|pass|raise|return|True|try|while|with|yield)\b/g;
            const builtins = /\b(abs|all|any|bin|bool|dict|float|format|hex|input|int|len|list|map|max|min|open|print|range|round|set|sorted|str|sum|tuple|type|zip)\b/g;
            const numbers = /\b(\d+\.?\d*)\b/g;
            
            code = code.replace(keywords, '<span class="keyword">$1</span>');
            code = code.replace(builtins, '<span class="function">$1</span>');
            code = code.replace(numbers, '<span class="number">$1</span>');
            
            // Restore placeholders
            for (let i = 0; i < placeholderIndex; i++) {
                code = code.replace(new RegExp(`__COMMENT_${i}__`, 'g'), placeholders[i]);
                code = code.replace(new RegExp(`__STRING_${i}__`, 'g'), placeholders[i]);
            }
            
            return code;
        }
        
        // Toggle answer visibility
        document.addEventListener('DOMContentLoaded', function() {
            highlightSyntax();
            
            const toggleButtons = document.querySelectorAll('.toggle-answer');
            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    answer.classList.toggle('show');
                    this.textContent = answer.classList.contains('show') ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ';
                });
            });
        });
    </script>
</head>
<body>
    <header>
        <h1>ç¬¬9ç« ï¼šå…ˆè¿›å·¥è‰ºä¸å°è£…æŠ€æœ¯</h1>
    </header>
    
    <nav class="nav-bar">
        <ul>
            <li><a href="index.html">é¦–é¡µ</a></li>
            <li><a href="chapter1.html">ç¬¬1ç« </a></li>
            <li><a href="chapter2.html">ç¬¬2ç« </a></li>
            <li><a href="chapter3.html">ç¬¬3ç« </a></li>
            <li><a href="chapter4.html">ç¬¬4ç« </a></li>
            <li><a href="chapter5.html">ç¬¬5ç« </a></li>
            <li><a href="chapter6.html">ç¬¬6ç« </a></li>
            <li><a href="chapter7.html">ç¬¬7ç« </a></li>
            <li><a href="chapter8.html">ç¬¬8ç« </a></li>
            <li><a href="chapter9.html" class="current">ç¬¬9ç« </a></li>
            <li><a href="chapter10.html">ç¬¬10ç« </a></li>
            <li><a href="chapter11.html">ç¬¬11ç« </a></li>
            <li><a href="chapter12.html">ç¬¬12ç« </a></li>
        </ul>
    </nav>
    
    <div class="container">
        <div class="chapter">
            <h2>ç¬¬9ç« ï¼šå…ˆè¿›å·¥è‰ºä¸å°è£…æŠ€æœ¯</h2>
            
            <p>éšç€NPUç®—åŠ›éœ€æ±‚çš„ä¸æ–­å¢é•¿ï¼Œå…ˆè¿›å·¥è‰ºå’Œå°è£…æŠ€æœ¯æˆä¸ºçªç ´æ€§èƒ½ç“¶é¢ˆçš„å…³é”®ã€‚æœ¬ç« æ·±å…¥æ¢è®¨æœ€æ–°çš„åŠå¯¼ä½“å·¥è‰ºæŠ€æœ¯ã€å…ˆè¿›å°è£…æ–¹æ¡ˆï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•æ¨åŠ¨NPUæ€§èƒ½çš„è·¨è¶Šå¼å‘å±•ã€‚</p>

            <h3>9.1 å…ˆè¿›å·¥è‰ºæŠ€æœ¯</h3>
            
            <h4>9.1.1 FinFETåˆ°GAAçš„æ¼”è¿›</h4>
            
            <p>æ™¶ä½“ç®¡ç»“æ„çš„æ¼”è¿›æ˜¯æ¨åŠ¨NPUæ€§èƒ½æå‡çš„åŸºç¡€ã€‚ä»å¹³é¢æ™¶ä½“ç®¡åˆ°FinFETï¼Œå†åˆ°å³å°†é‡äº§çš„GAAï¼ˆGate-All-Aroundï¼‰ï¼Œæ¯ä¸€ä»£æŠ€æœ¯éƒ½å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½å’ŒåŠŸè€—æ”¹å–„ã€‚</p>
            
            <div class="code-block">
// ä¸åŒå·¥è‰ºèŠ‚ç‚¹çš„å…³é”®å‚æ•°å¯¹æ¯”
å·¥è‰ºèŠ‚ç‚¹    æ™¶ä½“ç®¡ç»“æ„    æ™¶ä½“ç®¡å¯†åº¦      æ€§èƒ½æå‡    åŠŸè€—é™ä½    è®¾è®¡æˆæœ¬
28nm       Planar       ~50M/mmÂ²        åŸºå‡†        åŸºå‡†        ~$30M
16nm       FinFET       ~100M/mmÂ²       +40%        -50%        ~$80M
7nm        FinFET       ~250M/mmÂ²       +30%        -40%        ~$300M
5nm        FinFET       ~300M/mmÂ²       +15%        -30%        ~$540M
3nm        GAA          ~400M/mmÂ²       +18%        -25%        ~$1B+
2nm        GAA          ~500M/mmÂ²       +15%        -20%        ~$1.5B+

// æ³¨ï¼šè®¾è®¡æˆæœ¬åŒ…æ‹¬EDAå·¥å…·ã€IPæˆæƒã€éªŒè¯ã€å…‰ç½©åˆ¶ä½œç­‰
// 7nmåŠä»¥ä¸‹èŠ‚ç‚¹é‡‡ç”¨EUVï¼ˆæç´«å¤–å…‰åˆ»ï¼‰æŠ€æœ¯ï¼Œé¿å…äº†å¤šé‡æ›å…‰çš„å¤æ‚æ€§

// NPUåœ¨ä¸åŒå·¥è‰ºä¸‹çš„æ€§èƒ½è¡¨ç°
// ä»¥256x256 MACé˜µåˆ—ä¸ºä¾‹
28nm: é¢ç§¯~100mmÂ², åŠŸè€—~50W, é¢‘ç‡~500MHz
7nm:  é¢ç§¯~25mmÂ²,  åŠŸè€—~15W, é¢‘ç‡~1.5GHz
3nm:  é¢ç§¯~12mmÂ²,  åŠŸè€—~8W,  é¢‘ç‡~2.0GHz
            </div>
            
            <p><strong>FinFETæŠ€æœ¯ç‰¹ç‚¹ï¼š</strong></p>
            <ul>
                <li><strong>ä¸‰ç»´æ …æç»“æ„ï¼š</strong>æ …æåŒ…å›´é³ç‰‡ä¸‰ä¸ªé¢ï¼Œå¢å¼ºæ …æ§èƒ½åŠ›</li>
                <li><strong>çŸ­æ²Ÿé“æ•ˆåº”æŠ‘åˆ¶ï¼š</strong>æœ‰æ•ˆæ§åˆ¶æ¼ç”µæµï¼Œé™ä½é™æ€åŠŸè€—</li>
                <li><strong>é©±åŠ¨èƒ½åŠ›å¢å¼ºï¼š</strong>ç›¸åŒé¢ç§¯ä¸‹æä¾›æ›´å¤§çš„é©±åŠ¨ç”µæµ</li>
                <li><strong>å·¥è‰ºå¤æ‚åº¦ï¼š</strong>éœ€è¦ç²¾ç¡®æ§åˆ¶é³ç‰‡é«˜åº¦å’Œé—´è·</li>
            </ul>
            
            <p><strong>GAAæŠ€æœ¯ä¼˜åŠ¿ï¼š</strong></p>
            <ul>
                <li><strong>å…¨åŒ…å›´æ …æï¼š</strong>æ …æå®Œå…¨åŒ…å›´æ²Ÿé“ï¼Œæœ€å¤§åŒ–æ …æ§èƒ½åŠ›</li>
                <li><strong>çº³ç±³ç‰‡å †å ï¼š</strong>å‚ç›´å †å å¤šä¸ªçº³ç±³ç‰‡ï¼Œå¢åŠ æœ‰æ•ˆå®½åº¦</li>
                <li><strong>çµæ´»æ€§æå‡ï¼š</strong>å¯ç‹¬ç«‹è°ƒèŠ‚çº³ç±³ç‰‡å®½åº¦å’Œé—´è·</li>
                <li><strong>æ€§èƒ½åŠŸè€—æ¯”ï¼š</strong>ç›¸æ¯”FinFETè¿›ä¸€æ­¥æå‡20-30%</li>
            </ul>
            
            <div class="info-box">
                <p><strong>EUVå…‰åˆ»æŠ€æœ¯çš„å…³é”®ä½œç”¨ï¼š</strong></p>
                <ul>
                    <li><strong>æ³¢é•¿ä¼˜åŠ¿ï¼š</strong>13.5nmæç´«å¤–å…‰ï¼Œè¿œå°äº193nmæ·±ç´«å¤–å…‰</li>
                    <li><strong>ç®€åŒ–å·¥è‰ºï¼š</strong>å•æ¬¡æ›å…‰æ›¿ä»£å¤šé‡æ›å…‰ï¼Œé™ä½å·¥è‰ºå¤æ‚åº¦</li>
                    <li><strong>æˆæœ¬æ•ˆç›Šï¼š</strong>è™½ç„¶è®¾å¤‡æ˜‚è´µï¼ˆ>1.5äº¿ç¾å…ƒï¼‰ï¼Œä½†å‡å°‘äº†å…‰ç½©å±‚æ•°</li>
                    <li><strong>è‰¯ç‡æå‡ï¼š</strong>å‡å°‘å¯¹å‡†è¯¯å·®ï¼Œæé«˜å…³é”®å°ºå¯¸çš„ä¸€è‡´æ€§</li>
                </ul>
            </div>

            <h4>9.1.2 å…ˆè¿›å·¥è‰ºå¯¹NPUè®¾è®¡çš„å½±å“</h4>
            
            <p>å…ˆè¿›å·¥è‰ºä¸ä»…ä»…æ˜¯ç®€å•çš„å°ºå¯¸ç¼©æ”¾ï¼Œå®ƒå¯¹NPUçš„æ¶æ„è®¾è®¡äº§ç”Ÿæ·±è¿œå½±å“ï¼š</p>
            
            <div class="code-block">
// å·¥è‰ºç‰¹æ€§å¯¹NPUè®¾è®¡çš„å½±å“
module ProcessImpactAnalysis;
    
    // 1. äº’è¿å»¶è¿Ÿä¸»å¯¼
    // 7nmä»¥ä¸‹ï¼Œäº’è¿å»¶è¿Ÿ > é€»è¾‘å»¶è¿Ÿ
    parameter LOGIC_DELAY_7NM = 10;  // ps
    parameter WIRE_DELAY_7NM = 15;   // ps per mm
    
    // 2. åŠŸè€—å¯†åº¦æŒ‘æˆ˜
    // åŠŸè€—å¯†åº¦éšå·¥è‰ºç¼©æ”¾å¿«é€Ÿå¢åŠ 
    parameter POWER_DENSITY_7NM = 1.0;   // W/mmÂ²
    parameter POWER_DENSITY_5NM = 1.3;   // W/mmÂ²
    parameter POWER_DENSITY_3NM = 1.6;   // W/mmÂ²
    
    // 3. SRAMç¼©æ”¾æ”¾ç¼“
    // SRAMå•å…ƒé¢ç§¯ç¼©æ”¾ç‡ < é€»è¾‘ç¼©æ”¾ç‡
    parameter SRAM_SCALING_7TO5 = 0.7;   // 70%ç¼©æ”¾
    parameter LOGIC_SCALING_7TO5 = 0.5;  // 50%ç¼©æ”¾
    
    // è®¾è®¡ç­–ç•¥è°ƒæ•´
    // - å¢åŠ æµæ°´çº¿çº§æ•°åº”å¯¹äº’è¿å»¶è¿Ÿ
    // - é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„å‡å°‘é•¿è·ç¦»äº’è¿
    // - ä½¿ç”¨å…ˆè¿›å†·å´æŠ€æœ¯åº”å¯¹åŠŸè€—å¯†åº¦
    // - æ¢ç´¢æ–°å‹å­˜å‚¨å™¨ï¼ˆå¦‚MRAMï¼‰æ›¿ä»£SRAM
    
endmodule
            </div>
            
            <p><strong>è®¾è®¡æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥ï¼š</strong></p>
            <ol>
                <li><strong>äº’è¿ä¼˜åŒ–ï¼š</strong>
                    <ul>
                        <li>é‡‡ç”¨åˆ†å±‚äº’è¿æ¶æ„ï¼ŒçŸ­è·ç¦»ç”¨ä½å±‚é‡‘å±ï¼Œé•¿è·ç¦»ç”¨åšå±‚é‡‘å±</li>
                        <li>ä½¿ç”¨ä¸­ç»§å™¨ï¼ˆRepeaterï¼‰ä¼˜åŒ–é•¿è·ç¦»ä¿¡å·ä¼ è¾“</li>
                        <li>å±€éƒ¨åŒ–è®¾è®¡ï¼Œå‡å°‘è·¨æ¨¡å—é€šä¿¡</li>
                    </ul>
                </li>
                <li><strong>åŠŸè€—ç®¡ç†ï¼š</strong>
                    <ul>
                        <li>ç»†ç²’åº¦ç”µæºé—¨æ§ï¼Œç©ºé—²å•å…ƒåŠæ—¶å…³æ–­</li>
                        <li>åŠ¨æ€ç”µå‹é¢‘ç‡è°ƒèŠ‚ï¼ˆDVFSï¼‰</li>
                        <li>è¿‘é˜ˆå€¼ç”µå‹ï¼ˆNTVï¼‰è®¾è®¡æ¢ç´¢</li>
                    </ul>
                </li>
                <li><strong>è‰¯ç‡ä¼˜åŒ–ï¼š</strong>
                    <ul>
                        <li>å†—ä½™è®¾è®¡ï¼ŒMACé˜µåˆ—åŒ…å«å¤‡ç”¨å•å…ƒ</li>
                        <li>è‡ªé€‚åº”ç”µè·¯ï¼Œè¡¥å¿å·¥è‰ºåå·®</li>
                        <li>ç»Ÿè®¡æ—¶åºåˆ†æï¼ˆSSTAï¼‰</li>
                    </ul>
                </li>
            </ol>
            
            <div class="warning-box">
                <p><strong>è®¾è®¡-æŠ€æœ¯ååŒä¼˜åŒ–ï¼ˆDTCOï¼‰çš„é‡è¦æ€§ï¼š</strong></p>
                <p>å…ˆè¿›å·¥è‰ºèŠ‚ç‚¹çš„å¼€å‘ä¸å†æ˜¯å•çº¯çš„å™¨ä»¶ç‰©ç†é—®é¢˜ï¼Œè€Œéœ€è¦è®¾è®¡ä¸å·¥è‰ºçš„æ·±åº¦èåˆï¼š</p>
                <ul>
                    <li><strong>SRAMç¼©æ”¾å›°å¢ƒï¼š</strong>SRAMå•å…ƒé¢ç§¯ç¼©æ”¾é€Ÿåº¦è¿œæ…¢äºé€»è¾‘å•å…ƒï¼Œè¿™åè¿‡æ¥å½±å“NPUçš„ç¼“å­˜å±‚æ¬¡è®¾è®¡ï¼Œéœ€è¦æ›´å¤šä¾èµ–ç‰‡å¤–å­˜å‚¨æˆ–æ¢ç´¢æ–°å‹å­˜å‚¨å™¨</li>
                    <li><strong>æ ‡å‡†å•å…ƒåº“ä¼˜åŒ–ï¼š</strong>ä¸ä»£å·¥å‚åˆä½œå¼€å‘NPUä¸“ç”¨çš„é«˜å¯†åº¦MACå•å…ƒåº“</li>
                    <li><strong>äº’è¿å±‚å®šåˆ¶ï¼š</strong>ä¸ºNPUçš„è§„åˆ™æ•°æ®æµå®šåˆ¶é‡‘å±å±‚åˆ†é…ç­–ç•¥</li>
                    <li><strong>æ—©æœŸpathfindingï¼š</strong>åœ¨å·¥è‰ºå¼€å‘é˜¶æ®µå°±è€ƒè™‘NPUçš„ç‰¹æ®Šéœ€æ±‚</li>
                </ul>
            </div>

            <h3>9.2 å…ˆè¿›å°è£…æŠ€æœ¯</h3>
            
            <h4>9.2.1 2.5D/3Då°è£…æ¶æ„</h4>
            
            <p>å…ˆè¿›å°è£…æŠ€æœ¯é€šè¿‡ç¼©çŸ­èŠ¯ç‰‡é—´äº’è¿è·ç¦»ã€å¢åŠ äº’è¿å¸¦å®½ï¼Œä¸ºNPUç³»ç»Ÿé›†æˆæä¾›äº†æ–°çš„å¯èƒ½æ€§ã€‚</p>
            
            <div class="code-block">
// 2.5Då°è£…ï¼šç¡…ä¸­ä»‹å±‚ï¼ˆInterposerï¼‰æ–¹æ¡ˆ
class Silicon_Interposer_2_5D {
    // å…³é”®å‚æ•°
    const int MICROBUMP_PITCH = 40;      // Î¼m
    const int TSV_PITCH = 100;           // Î¼m
    const int INTERPOSER_THICKNESS = 100; // Î¼m
    const int HBM_BANDWIDTH = 1024;      // GB/s per stack
    
    // å…¸å‹é…ç½®ï¼šNPU + 4 HBM
    struct ChipletConfig {
        int npu_die_size = 400;          // mmÂ²
        int hbm_stacks = 4;
        int total_bandwidth = 4096;      // GB/s
        int interposer_size = 1200;      // mmÂ²
    };
    
    // ä¼˜åŠ¿
    // 1. è¶…é«˜å†…å­˜å¸¦å®½ï¼š4TB/s+
    // 2. ä½å»¶è¿Ÿï¼š<5ns chip-to-chip
    // 3. ä½åŠŸè€—ï¼špJ/bitçº§åˆ«ä¼ è¾“èƒ½è€—
    
    // æŒ‘æˆ˜
    // 1. åˆ¶é€ æˆæœ¬é«˜ï¼šç¡…ä¸­ä»‹å±‚+TSVå·¥è‰º
    // 2. çƒ­ç®¡ç†å¤æ‚ï¼šå¤šèŠ¯ç‰‡çƒ­è€¦åˆ
    // 3. ä¾›åº”é“¾ï¼šéœ€è¦OSATå‚å•†é…åˆ
};

// 3Då°è£…ï¼šèŠ¯ç‰‡å †å æ–¹æ¡ˆ
class Chip_Stacking_3D {
    // Hybrid BondingæŠ€æœ¯å‚æ•°
    const float BOND_PITCH = 1.0;        // Î¼m (æœ€å…ˆè¿›)
    const int CONNECTIONS_PER_MM2 = 1e6; // æ¯mmÂ²ç™¾ä¸‡è¿æ¥
    
    // å…¸å‹æ¶æ„ï¼šLogic + SRAMå †å 
    struct StackConfig {
        int logic_die_thickness = 10;     // Î¼m (å‡è–„å)
        int sram_die_thickness = 20;      // Î¼m
        int total_layers = 4;
        int vertical_bandwidth = 10000;   // GB/s
    };
    
    // çƒ­ä»¿çœŸæ¨¡å‹
    float thermal_resistance(int layers) {
        // æ¯å¢åŠ ä¸€å±‚ï¼Œçƒ­é˜»å¢åŠ 
        return 0.5 * layers + 0.2 * (layers * layers);
    }
};
            </div>
            
            <p><strong>2.5Då°è£…çš„NPUåº”ç”¨ï¼š</strong></p>
            <ul>
                <li><strong>è®¡ç®—ä¸å­˜å‚¨åˆ†ç¦»ï¼š</strong>NPUè®¡ç®—die + HBMå­˜å‚¨die</li>
                <li><strong>å¤šèŠ¯ç‰‡æ‰©å±•ï¼š</strong>å¤šä¸ªNPU dieé€šè¿‡ç¡…ä¸­ä»‹å±‚äº’è¿</li>
                <li><strong>å¼‚æ„é›†æˆï¼š</strong>NPU + CPU + ä¸“ç”¨åŠ é€Ÿå™¨é›†æˆ</li>
            </ul>
            
            <div class="info-box">
                <p><strong>å…¶ä»–2.5Då°è£…æ–¹æ¡ˆå¯¹æ¯”ï¼š</strong></p>
                <table>
                    <tr>
                        <th>æŠ€æœ¯æ–¹æ¡ˆ</th>
                        <th>æˆæœ¬</th>
                        <th>äº’è¿å¯†åº¦</th>
                        <th>åº”ç”¨åœºæ™¯</th>
                    </tr>
                    <tr>
                        <td>Silicon Interposer</td>
                        <td>é«˜ï¼ˆéœ€è¦å®Œæ•´ç¡…ç‰‡ï¼‰</td>
                        <td>æœ€é«˜ï¼ˆ40Î¼m pitchï¼‰</td>
                        <td>HBMé›†æˆã€è¶…é«˜å¸¦å®½éœ€æ±‚</td>
                    </tr>
                    <tr>
                        <td>EMIBï¼ˆIntelï¼‰</td>
                        <td>ä¸­ï¼ˆå±€éƒ¨ç¡…æ¡¥ï¼‰</td>
                        <td>é«˜ï¼ˆ55Î¼m pitchï¼‰</td>
                        <td>é€‰æ‹©æ€§é«˜é€Ÿäº’è¿</td>
                    </tr>
                    <tr>
                        <td>RDL Fan-out</td>
                        <td>ä½ï¼ˆæœ‰æœºåŸºæ¿ï¼‰</td>
                        <td>ä¸­ï¼ˆ2Î¼mçº¿å®½ï¼‰</td>
                        <td>æˆæœ¬æ•æ„Ÿçš„èŠ¯ç‰‡é›†æˆ</td>
                    </tr>
                </table>
            </div>
            
            <p><strong>3Då°è£…çš„åˆ›æ–°åº”ç”¨ï¼š</strong></p>
            <ul>
                <li><strong>å­˜ç®—ä¸€ä½“ï¼š</strong>SRAMç›´æ¥å †å åœ¨è®¡ç®—å•å…ƒä¸Šæ–¹</li>
                <li><strong>å†·å´é›†æˆï¼š</strong>å¾®æµé“æ•£çƒ­å™¨é›†æˆåœ¨å°è£…å†…</li>
                <li><strong>å…‰ç”µé›†æˆï¼š</strong>ç¡…å…‰å­å±‚ç”¨äºèŠ¯ç‰‡é—´é«˜é€Ÿé€šä¿¡</li>
            </ul>
            
            <div class="warning-box">
                <p><strong>3Då°è£…çš„å…³é”®æŒ‘æˆ˜ï¼š</strong></p>
                <ul>
                    <li><strong>åŸ‹å±‚æ•£çƒ­å›°å¢ƒï¼š</strong>è¢«å¤¹åœ¨ä¸­é—´å±‚çš„èŠ¯ç‰‡çƒ­é‡æéš¾å¯¼å‡ºï¼Œé™åˆ¶äº†åŠŸè€—å¯†åº¦</li>
                    <li><strong>ä¾›ç”µæŒ‘æˆ˜ï¼š</strong>
                        <ul>
                            <li>TSVå ç”¨é¢ç§¯å½±å“ä¿¡å·å¸ƒçº¿</li>
                            <li>ä¸­é—´å±‚ä¾›ç”µè·¯å¾„é•¿ï¼ŒIR dropä¸¥é‡</li>
                            <li>éœ€è¦ä¸“é—¨çš„ä¾›ç”µTSVå’ŒPDNè®¾è®¡</li>
                        </ul>
                    </li>
                    <li><strong>è‰¯ç‡å½±å“ï¼š</strong>å †å è‰¯ç‡ = å„å±‚è‰¯ç‡çš„ä¹˜ç§¯ï¼Œæˆæœ¬æ€¥å‰§ä¸Šå‡</li>
                    <li><strong>æµ‹è¯•å¤æ‚æ€§ï¼š</strong>å †å å‰åéƒ½éœ€è¦å®Œæ•´æµ‹è¯•</li>
                </ul>
            </div>

            <h4>9.2.2 ChipletæŠ€æœ¯ä¸å¼‚æ„é›†æˆ</h4>
            
            <p>Chipletï¼ˆå°èŠ¯ç‰‡ï¼‰æŠ€æœ¯å°†å¤§å‹SoCåˆ†è§£ä¸ºå¤šä¸ªåŠŸèƒ½æ¨¡å—ï¼Œé€šè¿‡å…ˆè¿›å°è£…æŠ€æœ¯é›†æˆï¼Œæä¾›äº†æ›´çµæ´»çš„è®¾è®¡å’Œåˆ¶é€ æ–¹æ¡ˆã€‚</p>
            
            <div class="code-block">
// Chipletæ¶æ„è®¾è®¡ç¤ºä¾‹
module ChipletBasedNPU;
    
    // Chipletç±»å‹å®šä¹‰
    typedef enum {
        COMPUTE_CHIPLET,    // è®¡ç®—æ ¸å¿ƒï¼šMACé˜µåˆ—
        MEMORY_CHIPLET,     // å­˜å‚¨ï¼šHBM/SRAM
        IO_CHIPLET,         // æ¥å£ï¼šPCIe/Ethernet
        CONTROL_CHIPLET     // æ§åˆ¶ï¼šè°ƒåº¦å™¨/DMA
    } chiplet_type_t;
    
    // Die-to-Dieæ¥å£æ ‡å‡†
    interface D2D_Interface;
        parameter LANES = 16;
        parameter RATE = 32;  // Gbps per lane
        parameter PROTOCOL = "UCIe";  // Universal Chiplet Interconnect
        
        // ç‰©ç†å±‚
        logic [LANES-1:0] tx_data;
        logic [LANES-1:0] rx_data;
        logic tx_clock, rx_clock;
        
        // åè®®å±‚
        modport transmitter (output tx_data, tx_clock);
        modport receiver (input rx_data, rx_clock);
    endinterface
    
    // Chipleté—´é€šä¿¡æ¶æ„
    class ChipletMesh {
        // 2x2 Chipletç½‘æ ¼
        Chiplet compute[2][2];
        Chiplet memory[4];
        
        // äº’è¿æ‹“æ‰‘
        void build_topology() {
            // Meshç½‘ç»œï¼šæ¯ä¸ªè®¡ç®—Chipletè¿æ¥ç›¸é‚»èŠ‚ç‚¹
            // ç¯å½¢æ€»çº¿ï¼šå†…å­˜Chipletå…±äº«é«˜é€Ÿç¯
            // æ˜Ÿå‹è¿æ¥ï¼šæ‰€æœ‰Chipletè¿æ¥åˆ°ä¸­å¤®NoC
        }
        
        // å¸¦å®½åˆ†é…
        int allocate_bandwidth(int src, int dst) {
            if (is_neighbor(src, dst)) {
                return 512;  // GB/s for adjacent
            } else {
                return 256;  // GB/s for remote
            }
        }
    };
    
endmodule
            </div>
            
            <p><strong>Chipletçš„ä¼˜åŠ¿ï¼š</strong></p>
            <ol>
                <li><strong>è‰¯ç‡æå‡ï¼š</strong>å°dieè‰¯ç‡è¿œé«˜äºå¤§dieï¼Œæ€»ä½“æˆæœ¬é™ä½</li>
                <li><strong>çµæ´»ç»„åˆï¼š</strong>ä¸åŒå·¥è‰ºèŠ‚ç‚¹çš„chipletå¯ä»¥æ··åˆä½¿ç”¨</li>
                <li><strong>å¿«é€Ÿè¿­ä»£ï¼š</strong>åªéœ€æ›´æ–°ç‰¹å®šåŠŸèƒ½çš„chiplet</li>
                <li><strong>IPå¤ç”¨ï¼š</strong>æ ‡å‡†åŒ–æ¥å£æ”¯æŒç¬¬ä¸‰æ–¹chiplet</li>
            </ol>
            
            <p><strong>è®¾è®¡è€ƒé‡ï¼š</strong></p>
            <ul>
                <li><strong>æ¥å£æ ‡å‡†åŒ–ï¼š</strong>é‡‡ç”¨UCIeç­‰æ ‡å‡†ç¡®ä¿äº’æ“ä½œæ€§</li>
                <li><strong>åŠŸè€—ä¼˜åŒ–ï¼š</strong>D2D PHYåŠŸè€—éœ€è¦ç²¾å¿ƒè®¾è®¡</li>
                <li><strong>å»¶è¿Ÿç®¡ç†ï¼š</strong>è·¨chipleté€šä¿¡å»¶è¿Ÿçš„æ¶æ„ä¼˜åŒ–</li>
                <li><strong>æµ‹è¯•ç­–ç•¥ï¼š</strong>å·²çŸ¥è‰¯å¥½èŠ¯ç‰‡ï¼ˆKGDï¼‰æµ‹è¯•æµç¨‹</li>
            </ul>
            
            <div class="info-box">
                <p><strong>KGDï¼ˆKnown Good Dieï¼‰æµ‹è¯•çš„æŒ‘æˆ˜ï¼š</strong></p>
                <ul>
                    <li><strong>æ¢é’ˆæµ‹è¯•é™åˆ¶ï¼š</strong>é«˜é€Ÿæ¥å£éš¾ä»¥åœ¨æ™¶åœ†çº§å®Œå…¨æµ‹è¯•</li>
                    <li><strong>æˆæœ¬å‹åŠ›ï¼š</strong>å®Œæ•´çš„KGDæµ‹è¯•å¯èƒ½å èŠ¯ç‰‡æˆæœ¬çš„20-30%</li>
                    <li><strong>æµ‹è¯•è¦†ç›–ç‡ï¼š</strong>éœ€è¦åœ¨é€Ÿåº¦ã€åŠŸè€—ã€æ¸©åº¦ç­‰å¤šä¸ªç»´åº¦æµ‹è¯•</li>
                    <li><strong>å·²çŸ¥è‰¯å¥½dieåº“å­˜ç®¡ç†ï¼š</strong>ä¸åŒæ‰¹æ¬¡ã€è§’è½çš„dieåŒ¹é…</li>
                </ul>
                
                <p><strong>ç³»ç»Ÿè½¯ä»¶è§†è§’ï¼š</strong></p>
                <ul>
                    <li><strong>ç»Ÿä¸€è§†å›¾ vs åˆ†ç¦»è§†å›¾ï¼š</strong>
                        <ul>
                            <li>å¯¹OSå‘ˆç°ä¸ºå•ä¸€å¤§å‹NPUï¼šéœ€è¦èŠ¯ç‰‡é—´ç¼“å­˜ä¸€è‡´æ€§</li>
                            <li>å‘ˆç°ä¸ºå¤šä¸ªç‹¬ç«‹NPUï¼šè½¯ä»¶è´Ÿè´£ä»»åŠ¡åˆ†é…å’ŒåŒæ­¥</li>
                        </ul>
                    </li>
                    <li><strong>NUMAæ„ŸçŸ¥ï¼š</strong>ä¸åŒchipletè®¿é—®å»¶è¿Ÿå·®å¼‚éœ€è¦NUMAä¼˜åŒ–</li>
                    <li><strong>æ•…éšœéš”ç¦»ï¼š</strong>å•ä¸ªchipletæ•…éšœä¸åº”å½±å“æ•´ä¸ªç³»ç»Ÿ</li>
                    <li><strong>åŠ¨æ€é…ç½®ï¼š</strong>æ”¯æŒchipletçº§åˆ«çš„çƒ­æ’æ‹”å’ŒåŠŸè€—ç®¡ç†</li>
                </ul>
            </div>

            <h3>9.3 æ–°å‹å­˜å‚¨å™¨æŠ€æœ¯</h3>
            
            <h4>9.3.1 HBMä¸å­˜å‚¨å™¨æ¼”è¿›</h4>
            
            <p>é«˜å¸¦å®½å­˜å‚¨å™¨ï¼ˆHBMï¼‰å·²æˆä¸ºé«˜æ€§èƒ½NPUçš„æ ‡é…ï¼Œè€Œæ–°ä¸€ä»£å­˜å‚¨æŠ€æœ¯æ­£åœ¨ä¸æ–­çªç ´å¸¦å®½å’Œå®¹é‡çš„æé™ã€‚</p>
            
            <div class="code-block">
// HBMæŠ€æœ¯æ¼”è¿›
class HBM_Evolution {
    struct HBM_Generation {
        string name;
        int stack_height;      // å±‚æ•°
        float bandwidth;       // GB/s per stack
        float capacity;        // GB per stack
        float voltage;         // V
        int prefetch;         // bits
        float pJ_per_bit;     // èƒ½æ•ˆ
    };
    
    // HBMä»£é™…å¯¹æ¯”
    HBM_Generation hbm2 = {
        "HBM2", 8, 256, 8, 1.2, 256, 3.5
    };
    
    HBM_Generation hbm2e = {
        "HBM2E", 8, 410, 16, 1.2, 256, 3.0
    };
    
    HBM_Generation hbm3 = {
        "HBM3", 12, 819, 24, 1.1, 256, 2.5
    };
    
    HBM_Generation hbm3e = {
        "HBM3E", 12, 1200, 36, 1.1, 256, 2.0
    };
    
    // NPUé›†æˆæ–¹æ¡ˆ
    class NPU_HBM_Integration {
        // ç‰©ç†é›†æˆ
        const int HBM_STACKS = 6;        // 6ä¸ªHBM3E
        const int TOTAL_BW = 7200;       // GB/s
        const int TOTAL_CAPACITY = 216;  // GB
        
        // é€»è¾‘åˆ†åŒº
        void partition_memory() {
            // æƒé‡ä¸“ç”¨ï¼š2 stacks (72GB)
            // æ¿€æ´»å€¼ï¼š2 stacks (72GB)
            // ä¸­é—´ç»“æœï¼š2 stacks (72GB)
        }
        
        // è®¿é—®ä¼˜åŒ–
        void optimize_access() {
            // Bankçº§å¹¶è¡Œ
            // Channeläº¤ç»‡
            // é¢„å–ä¼˜åŒ–
            // åˆ·æ–°éšè—
        }
    };
};
            </div>
            
            <p><strong>æ–°å‹å­˜å‚¨å™¨æŠ€æœ¯ï¼š</strong></p>
            <ul>
                <li><strong>MRAMï¼ˆç£é˜»å­˜å‚¨å™¨ï¼‰ï¼š</strong>
                    <ul>
                        <li>éæ˜“å¤±æ€§ï¼Œæ–­ç”µæ•°æ®ä¿æŒ</li>
                        <li>æ— é™è€ä¹…æ€§ï¼Œé€‚åˆé¢‘ç¹æ›´æ–°</li>
                        <li>è¯»å†™é€Ÿåº¦æ¥è¿‘SRAM</li>
                        <li>é€‚ç”¨äºç‰‡ä¸Šç¼“å­˜å’Œæƒé‡å­˜å‚¨</li>
                    </ul>
                </li>
                <li><strong>ReRAMï¼ˆé˜»å˜å­˜å‚¨å™¨ï¼‰ï¼š</strong>
                    <ul>
                        <li>é«˜å¯†åº¦ï¼Œ3Då †å èƒ½åŠ›</li>
                        <li>å¯å®ç°å­˜ç®—ä¸€ä½“æ¶æ„</li>
                        <li>å¤šå€¼å­˜å‚¨èƒ½åŠ›ï¼ˆMLCï¼‰</li>
                        <li>é€‚ç”¨äºæƒé‡å­˜å‚¨å’Œæ¨¡æ‹Ÿè®¡ç®—</li>
                    </ul>
                </li>
                <li><strong>PCMï¼ˆç›¸å˜å­˜å‚¨å™¨ï¼‰ï¼š</strong>
                    <ul>
                        <li>ä»‹äºDRAMå’Œé—ªå­˜ä¹‹é—´çš„æ€§èƒ½</li>
                        <li>å­—èŠ‚å¯å¯»å€</li>
                        <li>é€‚åˆå¤§å®¹é‡æƒé‡å­˜å‚¨</li>
                    </ul>
                </li>
            </ul>

            <h4>9.3.2 å­˜ç®—ä¸€ä½“æ¶æ„</h4>
            
            <p>å­˜ç®—ä¸€ä½“ï¼ˆProcessing-In-Memory, PIMï¼‰é€šè¿‡åœ¨å­˜å‚¨å™¨å†…éƒ¨é›†æˆè®¡ç®—èƒ½åŠ›ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³å†¯Â·è¯ºä¾æ›¼ç“¶é¢ˆã€‚</p>
            
            <div class="code-block">
// å­˜ç®—ä¸€ä½“æ¶æ„å®ç°
module ProcessingInMemory;
    
    // åŸºäºReRAMçš„çŸ©é˜µä¹˜æ³•å™¨
    class ReRAM_Crossbar {
        // äº¤å‰é˜µåˆ—å‚æ•°
        parameter ROWS = 128;
        parameter COLS = 128;
        parameter LEVELS = 8;     // 3-bit æƒé‡
        
        // æƒé‡æ˜ å°„åˆ°ç”µå¯¼
        real conductance[ROWS][COLS];
        
        // æ¨¡æ‹ŸçŸ©é˜µå‘é‡ä¹˜æ³•
        function real[COLS-1:0] compute_mvm(real[ROWS-1:0] input_vector);
            real[COLS-1:0] output_current;
            
            // æ¬§å§†å®šå¾‹ï¼šI = V Ã— G
            for (int j = 0; j < COLS; j++) begin
                output_current[j] = 0;
                for (int i = 0; i < ROWS; i++) begin
                    output_current[j] += input_vector[i] * conductance[i][j];
                end
            end
            
            return output_current;
        endfunction
        
        // åŠŸè€—æ¨¡å‹
        function real calculate_power();
            // é™æ€åŠŸè€—ï¼šæ¼ç”µæµ
            real static_power = ROWS * COLS * 1e-9;  // 1nW per cell
            
            // åŠ¨æ€åŠŸè€—ï¼šå–å†³äºæ¿€æ´»çš„è¡Œæ•°
            real dynamic_power = active_rows * 1e-6;  // 1Î¼W per row
            
            return static_power + dynamic_power;
        endfunction
    };
    
    // æ•°å­—PIMæ¶æ„
    class Digital_PIM {
        // SRAM bankå†…é›†æˆALU
        parameter BANK_SIZE = 256;  // KB
        parameter ALU_WIDTH = 32;   // bits
        parameter NUM_ALUS = 16;    // per bank
        
        // PIMæŒ‡ä»¤é›†
        typedef enum {
            PIM_ADD,      // å‘é‡åŠ æ³•
            PIM_MUL,      // å‘é‡ä¹˜æ³•
            PIM_MAC,      // ä¹˜ç´¯åŠ 
            PIM_REDUCE,   // å½’çº¦æ“ä½œ
            PIM_COMPARE   // æ¯”è¾ƒæ“ä½œ
        } pim_op_t;
        
        // æ‰§è¡Œæ¨¡å‹
        task execute_pim_op(pim_op_t op, int addr1, int addr2, int dst);
            // æ•°æ®ä¸ç§»åŠ¨ï¼Œè®¡ç®—åœ¨å­˜å‚¨å™¨å†…å®Œæˆ
            case (op)
                PIM_MAC: begin
                    // æœ¬åœ°MACæ“ä½œ
                    for (int i = 0; i < BANK_SIZE/4; i++) begin
                        mem[dst+i] += mem[addr1+i] * mem[addr2+i];
                    end
                end
                // å…¶ä»–æ“ä½œ...
            endcase
        endtask
    };
    
endmodule
            </div>
            
            <p><strong>PIMæ¶æ„çš„ä¼˜åŠ¿ï¼š</strong></p>
            <ol>
                <li><strong>å¸¦å®½æå‡ï¼š</strong>å†…éƒ¨å¸¦å®½å¯è¾¾TB/sçº§åˆ«</li>
                <li><strong>èƒ½æ•ˆæ”¹å–„ï¼š</strong>å‡å°‘æ•°æ®ç§»åŠ¨ï¼Œé™ä½åŠŸè€—90%+</li>
                <li><strong>å»¶è¿Ÿé™ä½ï¼š</strong>å°±åœ°è®¡ç®—ï¼Œé¿å…å†…å­˜å¢™</li>
                <li><strong>æ‰©å±•æ€§å¥½ï¼š</strong>è®¡ç®—èƒ½åŠ›éšå­˜å‚¨å®¹é‡çº¿æ€§æ‰©å±•</li>
            </ol>
            
            <p><strong>å®ç°æŒ‘æˆ˜ï¼š</strong></p>
            <ul>
                <li><strong>å·¥è‰ºå…¼å®¹æ€§ï¼š</strong>é€»è¾‘å·¥è‰ºvså­˜å‚¨å·¥è‰ºçš„å¹³è¡¡</li>
                <li><strong>ç¼–ç¨‹æ¨¡å‹ï¼š</strong>éœ€è¦æ–°çš„ç¼–ç¨‹æŠ½è±¡å’Œå·¥å…·é“¾</li>
                <li><strong>ç²¾åº¦æ§åˆ¶ï¼š</strong>æ¨¡æ‹Ÿè®¡ç®—çš„ç²¾åº¦å’Œç¨³å®šæ€§</li>
                <li><strong>æ ‡å‡†åŒ–ï¼š</strong>æ¥å£å’Œæ¶æ„æ ‡å‡†å°šæœªç»Ÿä¸€</li>
            </ul>
            
            <div class="warning-box">
                <p><strong>æ¨¡æ‹ŸPIMçš„éšè—æˆæœ¬ï¼š</strong></p>
                <ul>
                    <li><strong>ADC/DACå¼€é”€ï¼š</strong>
                        <ul>
                            <li>è¾“å…¥éœ€è¦DACï¼ˆæ•°æ¨¡è½¬æ¢ï¼‰ï¼Œæ¯ä¸ª8bit DACçº¦å 100Î¼mÂ²</li>
                            <li>è¾“å‡ºéœ€è¦ADCï¼ˆæ¨¡æ•°è½¬æ¢ï¼‰ï¼ŒåŠŸè€—å¯è¾¾10-100mW</li>
                            <li>è½¬æ¢å»¶è¿Ÿé™åˆ¶äº†å®é™…ååé‡</li>
                        </ul>
                    </li>
                    <li><strong>ç²¾åº¦é™åˆ¶ï¼š</strong>æ¨¡æ‹Ÿè®¡ç®—é€šå¸¸é™äº4-8bitï¼Œéœ€è¦ç‰¹æ®Šè®­ç»ƒæ–¹æ³•</li>
                    <li><strong>å·¥è‰ºåå·®ï¼š</strong>éœ€è¦æ ¡å‡†å’Œè¡¥å¿ç”µè·¯ï¼Œå¢åŠ å¤æ‚åº¦</li>
                </ul>
                
                <p><strong>ç¼–ç¨‹æ¨¡å‹çš„æ ¹æœ¬æŒ‘æˆ˜ï¼š</strong></p>
                <ul>
                    <li><strong>æ¡†æ¶é›†æˆï¼š</strong>å¦‚ä½•è®©PyTorch/TensorFlowè‡ªåŠ¨è¯†åˆ«å¹¶æ˜ å°„PIMæ“ä½œ</li>
                    <li><strong>æ•°æ®å¸ƒå±€ï¼š</strong>ä¼ ç»Ÿè¡Œä¸»åºvs PIMå‹å¥½çš„åˆ—ä¸»åº</li>
                    <li><strong>è°ƒåº¦å¤æ‚æ€§ï¼š</strong>PIMæ“ä½œä¸ä¼ ç»Ÿæ“ä½œçš„æ··åˆè°ƒåº¦</li>
                    <li><strong>æŠ½è±¡å±‚è®¾è®¡ï¼š</strong>åœ¨æ€§èƒ½å’Œæ˜“ç”¨æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡</li>
                </ul>
            </div>

            <h3>9.4 çƒ­ç®¡ç†ä¸ä¾›ç”µæŠ€æœ¯</h3>
            
            <h4>9.4.1 å…ˆè¿›å†·å´æŠ€æœ¯</h4>
            
            <p>éšç€åŠŸè€—å¯†åº¦çš„æ€¥å‰§å¢åŠ ï¼Œä¼ ç»Ÿé£å†·å·²æ— æ³•æ»¡è¶³é«˜æ€§èƒ½NPUçš„æ•£çƒ­éœ€æ±‚ï¼Œæ¶²å†·å’Œå…¶ä»–åˆ›æ–°å†·å´æŠ€æœ¯æˆä¸ºå¿…ç„¶é€‰æ‹©ã€‚</p>
            
            <div class="code-block">
// çƒ­ç®¡ç†ç³»ç»Ÿè®¾è®¡
class ThermalManagementSystem {
    // çƒ­è®¾è®¡å‚æ•°
    struct ThermalSpec {
        float tjunction_max = 105.0;    // Â°C ç»“æ¸©ä¸Šé™
        float power_density = 2.0;       // W/mmÂ² @ 3nm
        float thermal_resistance = 0.3;  // Â°C/W junction-to-case
        float ambient_temp = 35.0;       // Â°C ç¯å¢ƒæ¸©åº¦
    };
    
    // æ¶²å†·ç³»ç»Ÿè®¾è®¡
    class LiquidCooling {
        // å†·æ¿è®¾è®¡
        struct ColdPlate {
            float thickness = 5.0;       // mm
            int microchannels = 100;     // å¾®é€šé“æ•°é‡
            float channel_width = 0.2;   // mm
            float flow_rate = 2.0;       // L/min
            string coolant = "water";    // å†·å´æ¶²ç±»å‹
        };
        
        // çƒ­é˜»è®¡ç®—
        float calculate_thermal_resistance() {
            float r_junction_case = 0.3;
            float r_case_coldplate = 0.1;
            float r_coldplate_fluid = 0.05;
            float r_fluid_ambient = 0.2;
            
            return r_junction_case + r_case_coldplate + 
                   r_coldplate_fluid + r_fluid_ambient;
        }
        
        // æ¸©åº¦é¢„æµ‹
        float predict_junction_temp(float power) {
            float r_total = calculate_thermal_resistance();
            return ambient_temp + power * r_total;
        }
    };
    
    // æµ¸æ²¡å¼å†·å´
    class ImmersionCooling {
        // ä»‹ç”µæµä½“ç‰¹æ€§
        struct DielectricFluid {
            string type = "3M Novec";
            float boiling_point = 49.0;   // Â°C
            float thermal_capacity = 1.1;  // kJ/kgÂ·K
            float breakdown_voltage = 25;  // kV
        };
        
        // ä¸¤ç›¸å†·å´ä¼˜åŠ¿
        // 1. ç›¸å˜æ½œçƒ­å¤§ï¼Œæ•£çƒ­èƒ½åŠ›å¼º
        // 2. æ¸©åº¦å‡åŒ€æ€§å¥½
        // 3. æ— éœ€æ³µï¼Œä¾é è‡ªç„¶å¯¹æµ
        
        float cooling_capacity() {
            // ä¸¤ç›¸å†·å´èƒ½åŠ›å¯è¾¾ 1000 W/cmÂ²
            return 1000.0;
        }
    };
    
    // é›†æˆå¼å¾®æµé“å†·å´
    class MicrofluidicCooling {
        // ç¡…é€šå­”é›†æˆå¾®æµé“
        parameter CHANNEL_DIAMETER = 50;    // Î¼m
        parameter CHANNEL_PITCH = 200;      // Î¼m
        parameter CHANNELS_PER_MM2 = 25;
        
        // ç›´æ¥åœ¨èŠ¯ç‰‡å†…éƒ¨å†·å´
        task embedded_cooling();
            // TSVä¸­é›†æˆå†·å´æ¶²é€šé“
            // çƒ­æºé™„è¿‘ç›´æ¥æ•£çƒ­
            // 3Då †å æ¯å±‚ç‹¬ç«‹å†·å´
        endtask
    };
};
            </div>
            
            <p><strong>çƒ­ç®¡ç†ç­–ç•¥ï¼š</strong></p>
            <ol>
                <li><strong>åŠ¨æ€çƒ­ç®¡ç†ï¼ˆDTMï¼‰ï¼š</strong>
                    <ul>
                        <li>å®æ—¶æ¸©åº¦ç›‘æ§ï¼Œåˆ†å¸ƒå¼æ¸©åº¦ä¼ æ„Ÿå™¨</li>
                        <li>åŸºäºæ¸©åº¦çš„DVFSè°ƒèŠ‚</li>
                        <li>çƒ­ç‚¹è¿ç§»ï¼Œå·¥ä½œè´Ÿè½½åŠ¨æ€åˆ†é…</li>
                        <li>é¢„æµ‹æ€§çƒ­ç®¡ç†ï¼ŒåŸºäºå†å²æ•°æ®</li>
                    </ul>
                </li>
                <li><strong>å°è£…çº§ä¼˜åŒ–ï¼š</strong>
                    <ul>
                        <li>é«˜å¯¼çƒ­ç•Œé¢ææ–™ï¼ˆTIMï¼‰</li>
                        <li>å‡çƒ­æ¿ï¼ˆVapor Chamberï¼‰é›†æˆ</li>
                        <li>çƒ­é€šå­”ï¼ˆThermal TSVï¼‰è®¾è®¡</li>
                    </ul>
                </li>
                <li><strong>ç³»ç»Ÿçº§æ–¹æ¡ˆï¼š</strong>
                    <ul>
                        <li>å†·æ¿ç›´æ¥æ¥è§¦ï¼ˆDirect-to-Chipï¼‰</li>
                        <li>ä¸¤ç›¸æµ¸æ²¡å†·å´ç³»ç»Ÿ</li>
                        <li>çƒ­å›æ”¶åˆ©ç”¨æ–¹æ¡ˆ</li>
                    </ul>
                </li>
            </ol>
            
            <div class="info-box">
                <p><strong>çƒ­è®¾è®¡ä¸æ¶æ„ååŒè®¾è®¡ï¼š</strong></p>
                <p>ç°ä»£NPUè®¾è®¡éœ€è¦åœ¨æ¶æ„é˜¶æ®µå°±è€ƒè™‘çƒ­ç®¡ç†ï¼Œè€Œéäº‹åè¡¥æ•‘ï¼š</p>
                <ul>
                    <li><strong>Floorplançƒ­æ„ŸçŸ¥ï¼š</strong>
                        <ul>
                            <li>å°†é«˜åŠŸè€—MACå•å…ƒåˆ†æ•£å¸ƒç½®ï¼Œé¿å…çƒ­ç‚¹é›†ä¸­</li>
                            <li>åœ¨çƒ­æ•æ„ŸåŒºåŸŸé¢„ç•™å†·å´é€šé“</li>
                            <li>è€ƒè™‘çƒ­æ¢¯åº¦å¯¹æ—¶åºçš„å½±å“</li>
                        </ul>
                    </li>
                    <li><strong>è®¡ç®—è°ƒåº¦ä¼˜åŒ–ï¼š</strong>
                        <ul>
                            <li>å·¥ä½œè´Ÿè½½åœ¨ç©ºé—´ä¸Šè½®è½¬ï¼Œå‡è¡¡çƒ­åˆ†å¸ƒ</li>
                            <li>åˆ©ç”¨çƒ­æƒ¯æ€§ï¼ŒçŸ­æ—¶è¿‡è½½åå¼ºåˆ¶å†·å´</li>
                            <li>æ¸©åº¦æ„ŸçŸ¥çš„ä»»åŠ¡æ˜ å°„ç®—æ³•</li>
                        </ul>
                    </li>
                    <li><strong>è®¾è®¡è£•é‡åˆ†é…ï¼š</strong>
                        <ul>
                            <li>çƒ­å…³é”®è·¯å¾„é¢å¤–çš„æ—¶åºè£•é‡</li>
                            <li>æ¸©åº¦ç›¸å…³çš„ç”µå‹è°ƒèŠ‚</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <h4>9.4.2 å…ˆè¿›ä¾›ç”µæ¶æ„</h4>
            
            <p>é«˜æ•ˆçš„ä¾›ç”µç³»ç»Ÿæ˜¯NPUç¨³å®šè¿è¡Œçš„åŸºç¡€ï¼Œå…ˆè¿›çš„ç”µæºç®¡ç†æŠ€æœ¯èƒ½å¤Ÿæ˜¾è‘—æå‡ç³»ç»Ÿèƒ½æ•ˆã€‚</p>
            
            <div class="code-block">
// å…ˆè¿›ä¾›ç”µç³»ç»Ÿè®¾è®¡
module PowerDeliverySystem;
    
    // é›†æˆç”µå‹è°ƒèŠ‚å™¨ï¼ˆIVRï¼‰
    class IntegratedVoltageRegulator {
        // ç‰‡ä¸Šé›†æˆä¼˜åŠ¿
        // 1. å¿«é€Ÿå“åº”ï¼š<10ns
        // 2. ç»†ç²’åº¦æ§åˆ¶ï¼šæ¯ä¸ªæ¨¡å—ç‹¬ç«‹ä¾›ç”µ
        // 3. é«˜æ•ˆç‡ï¼š>90% @ è½»è½½
        
        parameter NUM_DOMAINS = 16;
        parameter VDD_NOMINAL = 0.75;  // V
        parameter VDD_RANGE = 0.2;     // +/- 0.2V
        
        // å¤šç›¸äº¤é”™Buckè½¬æ¢å™¨
        struct BuckConverter {
            int phases = 4;
            float switching_freq = 100e6;  // Hz
            float inductance = 1e-9;       // H
            float efficiency = 0.92;
        };
        
        // åŠ¨æ€ç”µå‹è°ƒèŠ‚
        task adjust_voltage(int domain_id, real target_vdd);
            // æ•°å­—æ§åˆ¶ç¯è·¯
            real error = target_vdd - current_vdd[domain_id];
            real duty_cycle = calculate_duty_cycle(error);
            set_pwm(domain_id, duty_cycle);
            
            // è‡ªé€‚åº”è°ƒèŠ‚
            if (load_current[domain_id] > threshold) begin
                increase_phases(domain_id);
            end
        endtask
    };
    
    // ä¾›ç”µç½‘ç»œï¼ˆPDNï¼‰è®¾è®¡
    class PowerDistributionNetwork {
        // åˆ†å±‚PDNç»“æ„
        // PCB -> Package -> Die
        
        // ç›®æ ‡é˜»æŠ—è®¡ç®—
        function real calculate_target_impedance();
            real vdd = 0.75;
            real tolerance = 0.05;  // 5%çº¹æ³¢
            real max_current = 200; // A
            
            return (vdd * tolerance) / max_current; // 1.875 mÎ©
        endfunction
        
        // å»è€¦ç”µå®¹ä¼˜åŒ–
        struct DecapStrategy {
            // Dieä¸Šç”µå®¹
            real die_cap = 100e-9;      // 100nF
            int die_cap_count = 10000;
            
            // å°è£…ç”µå®¹
            real pkg_cap = 10e-6;       // 10Î¼F
            int pkg_cap_count = 100;
            
            // PCBç”µå®¹
            real pcb_cap = 100e-6;      // 100Î¼F
            int pcb_cap_count = 20;
        };
        
        // PDNä»¿çœŸæ¨¡å‹
        task simulate_pdn();
            // é¢‘åŸŸé˜»æŠ—åˆ†æ
            for (freq = 1e3; freq <= 1e9; freq *= 10) begin
                complex_impedance z = calculate_z(freq);
                assert(abs(z) < target_impedance);
            end
            
            // æ—¶åŸŸç”µå‹è·Œè½åˆ†æ
            real voltage_droop = simulate_load_step(100A, 1ns);
            assert(voltage_droop < vdd * 0.05);
        endtask
    };
    
    // èƒ½é‡é‡‡é›†ä¸å›æ”¶
    class EnergyHarvesting {
        // çƒ­ç”µè½¬æ¢
        struct ThermoelectricGenerator {
            float seebeck_coefficient = 200e-6;  // V/K
            float temp_difference = 50;          // K
            float conversion_efficiency = 0.05;  // 5%
            
            float harvest_power(float waste_heat) {
                return waste_heat * conversion_efficiency;
            }
        };
        
        // ç”µç£èƒ½é‡å›æ”¶
        // ä»é«˜é€Ÿä¿¡å·çº¿å›æ”¶èƒ½é‡
        task electromagnetic_harvesting();
            // RFæ•´æµå™¨è®¾è®¡
            // é˜»æŠ—åŒ¹é…ç½‘ç»œ
            // DC-DCè½¬æ¢
        endtask
    };
    
endmodule
            </div>
            
            <p><strong>ä¾›ç”µç³»ç»Ÿåˆ›æ–°ï¼š</strong></p>
            <ul>
                <li><strong>æ•°å­—ä½å‹å·®ç¨³å‹å™¨ï¼ˆDLDOï¼‰ï¼š</strong>å…¨æ•°å­—æ§åˆ¶ï¼Œæ˜“äºé›†æˆ</li>
                <li><strong>è‡ªé€‚åº”ç”µå‹ç¼©æ”¾ï¼ˆAVSï¼‰ï¼š</strong>æ ¹æ®å·¥è‰ºè§’å’Œæ¸©åº¦åŠ¨æ€è°ƒæ•´</li>
                <li><strong>è°æŒ¯æ—¶é’Ÿåˆ†é…ï¼š</strong>é™ä½æ—¶é’Ÿç½‘ç»œåŠŸè€—50%+</li>
                <li><strong>æ— çº¿åŠŸç‡ä¼ è¾“ï¼š</strong>ç”¨äº3Då †å èŠ¯ç‰‡ä¾›ç”µ</li>
            </ul>
            
            <div class="warning-box">
                <p><strong>æ—¶é’Ÿç½‘ç»œåŠŸè€—æŒ‘æˆ˜ï¼š</strong></p>
                <p>åœ¨é«˜æ€§èƒ½NPUä¸­ï¼Œæ—¶é’Ÿç½‘ç»œåŠŸè€—å¯å æ€»åŠŸè€—çš„20-40%ï¼Œæ˜¯åŠŸè€—ä¼˜åŒ–çš„å…³é”®ç›®æ ‡ï¼š</p>
                <ul>
                    <li><strong>ä¼ ç»Ÿæ—¶é’Ÿç½‘ç»œé—®é¢˜ï¼š</strong>
                        <ul>
                            <li>å¤§é‡ç¼“å†²å™¨çš„å¼€å…³åŠŸè€—</li>
                            <li>é•¿è·ç¦»æ—¶é’Ÿçº¿çš„å……æ”¾ç”µæŸè€—</li>
                            <li>æ—¶é’Ÿåæ–œè¡¥å¿å¸¦æ¥çš„é¢å¤–åŠŸè€—</li>
                        </ul>
                    </li>
                    <li><strong>è°æŒ¯æ—¶é’ŸæŠ€æœ¯åŸç†ï¼š</strong>
                        <ul>
                            <li>åˆ©ç”¨LCè°æŒ¯å›æ”¶å……æ”¾ç”µèƒ½é‡</li>
                            <li>æ­£å¼¦æ³¢æ—¶é’Ÿå‡å°‘é«˜é¢‘è°æ³¢</li>
                            <li>åˆ†å¸ƒå¼ç”µæ„Ÿè®¾è®¡ä¼˜åŒ–</li>
                        </ul>
                    </li>
                    <li><strong>å…¶ä»–æ—¶é’Ÿä¼˜åŒ–æŠ€æœ¯ï¼š</strong>
                        <ul>
                            <li>å¤šçº§æ—¶é’Ÿé—¨æ§å±‚æ¬¡</li>
                            <li>å±€éƒ¨æ—¶é’Ÿç”Ÿæˆï¼ˆåˆ†é¢‘/å€é¢‘ï¼‰</li>
                            <li>è‡ªé€‚åº”æ—¶é’Ÿstretching</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="exercise">
                <h4>ç»ƒä¹ é¢˜é›† 9</h4>
                
                <div class="question">
                    <p><strong>é¢˜ç›®9.1ï¼š</strong>è®¡ç®—ä¸€ä¸ª7nmå·¥è‰ºä¸‹çš„NPUèŠ¯ç‰‡ï¼ˆåŒ…å«1024Ã—1024 MACé˜µåˆ—ï¼‰è¿ç§»åˆ°3nm GAAå·¥è‰ºåï¼Œåœ¨ç›¸åŒåŠŸè€—é¢„ç®—ï¼ˆ100Wï¼‰ä¸‹ï¼Œç†è®ºä¸Šå¯ä»¥é›†æˆå¤šå°‘ä¸ªMACå•å…ƒï¼Ÿå‡è®¾MACå•å…ƒé¢ç§¯ç¼©æ”¾70%ï¼ŒåŠŸè€—ç¼©æ”¾60%ã€‚</p>
                    <details class="hint">
                        <summary>ğŸ’¡ æç¤º</summary>
                        <p>æ€è€ƒæ–¹å‘ï¼šå…ˆè®¡ç®—7nmä¸‹å•ä¸ªMACçš„åŠŸè€—ï¼Œç„¶ååº”ç”¨åŠŸè€—ç¼©æ”¾æ¯”ä¾‹å¾—åˆ°3nmä¸‹çš„å•MACåŠŸè€—ã€‚åœ¨ç›¸åŒåŠŸè€—é¢„ç®—ä¸‹è®¡ç®—å¯å®¹çº³çš„MACæ•°é‡ã€‚åˆ«å¿˜äº†éªŒè¯é¢ç§¯çº¦æŸæ˜¯å¦æ»¡è¶³ã€‚</p>
                    </details>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer">
                        <p><strong>ç­”æ¡ˆï¼š</strong></p>
                        <p>7nmå·¥è‰ºå‚æ•°ï¼š</p>
                        <ul>
                            <li>MACé˜µåˆ—ï¼š1024 Ã— 1024 = 1,048,576ä¸ªMAC</li>
                            <li>åŠŸè€—ï¼š100W</li>
                            <li>å•ä¸ªMACåŠŸè€—ï¼š100W / 1,048,576 â‰ˆ 95.4Î¼W</li>
                        </ul>
                        
                        <p>3nmå·¥è‰ºå‚æ•°ï¼š</p>
                        <ul>
                            <li>å•ä¸ªMACåŠŸè€—ï¼š95.4Î¼W Ã— 0.6 = 57.2Î¼W</li>
                            <li>ç›¸åŒåŠŸè€—é¢„ç®—ä¸‹MACæ•°é‡ï¼š100W / 57.2Î¼W â‰ˆ 1,748,252ä¸ª</li>
                            <li>MACé˜µåˆ—å¤§å°ï¼šâˆš1,748,252 â‰ˆ 1322 Ã— 1322</li>
                        </ul>
                        
                        <p><strong>éªŒè¯é¢ç§¯çº¦æŸï¼š</strong></p>
                        <ul>
                            <li>é¢ç§¯ç¼©æ”¾ï¼š1,748,252 Ã— 0.7 / 1,048,576 â‰ˆ 1.17</li>
                            <li>é¢ç§¯å¢åŠ 17%ï¼Œåœ¨åˆç†èŒƒå›´å†…</li>
                        </ul>
                        
                        <p><strong>ç»“è®ºï¼š</strong>3nmå·¥è‰ºä¸‹å¯é›†æˆçº¦175ä¸‡ä¸ªMACå•å…ƒï¼Œæ€§èƒ½æå‡67%ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p><strong>é¢˜ç›®9.2ï¼š</strong>è®¾è®¡ä¸€ä¸ªåŸºäºChipletçš„NPUç³»ç»Ÿï¼ŒåŒ…å«4ä¸ªè®¡ç®—chipletï¼ˆæ¯ä¸ª200mmÂ²ï¼‰å’Œ4ä¸ªHBM3 chipletã€‚è®¡ç®—ç³»ç»Ÿæ€»å¸¦å®½ï¼Œå¹¶åˆ†æchipleté—´äº’è¿çš„åŠŸè€—å æ¯”ã€‚å‡è®¾D2D PHYåŠŸè€—ä¸º2pJ/bitã€‚</p>
                    <details class="hint">
                        <summary>ğŸ’¡ æç¤º</summary>
                        <p>æ€è€ƒæ–¹å‘ï¼šHBM3å•ä¸ªé€šé“å¸¦å®½çº¦1TB/sã€‚Chipleté—´äº’è¿å¯ä»¥ä½¿ç”¨UCIeæˆ–å…¶ä»–é«˜é€ŸD2Dæ¥å£ã€‚è®¡ç®—æ€»å¸¦å®½æ—¶è€ƒè™‘æ‰€æœ‰æ¥å£ã€‚åŠŸè€—=å¸¦å®½Ã—pJ/bitã€‚</p>
                    </details>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer">
                        <p><strong>ç­”æ¡ˆï¼š</strong></p>
                        
                        <p><strong>ç³»ç»Ÿé…ç½®ï¼š</strong></p>
                        <ul>
                            <li>è®¡ç®—Chipletï¼š4ä¸ªï¼Œæ¯ä¸ª200mmÂ²</li>
                            <li>HBM3 Chipletï¼š4ä¸ªï¼Œæ¯ä¸ª819GB/så¸¦å®½</li>
                            <li>æ€»å†…å­˜å¸¦å®½ï¼š4 Ã— 819 = 3,276 GB/s</li>
                        </ul>
                        
                        <p><strong>Chipletäº’è¿è®¾è®¡ï¼š</strong></p>
                        <ul>
                            <li>é‡‡ç”¨2Ã—2 meshæ‹“æ‰‘è¿æ¥è®¡ç®—chiplet</li>
                            <li>æ¯æ¡é“¾è·¯ï¼š16é€šé“ Ã— 32Gbps = 512Gbps = 64GB/s</li>
                            <li>æ€»äº’è¿å¸¦å®½ï¼š6æ¡é“¾è·¯ Ã— 64GB/s = 384GB/s</li>
                        </ul>
                        
                        <p><strong>åŠŸè€—åˆ†æï¼š</strong></p>
                        <div class="code-block">
// D2Däº’è¿åŠŸè€—
D2DåŠŸè€— = æ•°æ®ç‡ Ã— pJ/bit
       = 384GB/s Ã— 8bit/B Ã— 2pJ/bit
       = 6.144W

// HBMæ¥å£åŠŸè€—ï¼ˆå‡è®¾3pJ/bitï¼‰
HBMåŠŸè€— = 3,276GB/s Ã— 8 Ã— 3pJ/bit
       = 78.6W

// å‡è®¾è®¡ç®—åŠŸè€—200W
æ€»åŠŸè€— = 200W + 6.144W + 78.6W = 284.7W

// äº’è¿åŠŸè€—å æ¯”
D2Då æ¯” = 6.144W / 284.7W = 2.2%
å†…å­˜æ¥å£å æ¯” = 78.6W / 284.7W = 27.6%
                        </div>
                        
                        <p><strong>ä¼˜åŒ–å»ºè®®ï¼š</strong></p>
                        <ul>
                            <li>é‡‡ç”¨æ›´å…ˆè¿›çš„D2D PHYï¼Œé™è‡³1pJ/bit</li>
                            <li>ä½¿ç”¨æ•°æ®å‹ç¼©å‡å°‘ä¼ è¾“é‡</li>
                            <li>ä¼˜åŒ–æ•°æ®å¸ƒå±€ï¼Œå¢åŠ å±€éƒ¨æ€§</li>
                            <li>è€ƒè™‘3Då †å å‡å°‘äº’è¿è·ç¦»</li>
                        </ul>
                    </div>
                </div>
                
                <div class="question">
                    <p><strong>é¢˜ç›®9.3ï¼š</strong>æ¯”è¾ƒSRAMã€HBM3å’ŒåŸºäºReRAMçš„å­˜ç®—ä¸€ä½“æ¶æ„åœ¨æ‰§è¡ŒçŸ©é˜µä¹˜æ³•æ—¶çš„èƒ½æ•ˆã€‚è®¡ç®—1TOPSè¿ç®—éœ€è¦çš„èƒ½è€—ï¼Œè€ƒè™‘æ•°æ®è®¿é—®å’Œè®¡ç®—ä¸¤éƒ¨åˆ†ã€‚</p>
                    <details class="hint">
                        <summary>ğŸ’¡ æç¤º</summary>
                        <p>æ€è€ƒæ–¹å‘ï¼šä¼ ç»Ÿæ¶æ„éœ€è¦æ•°æ®ç§»åŠ¨ï¼ˆè¯»å–ã€è®¡ç®—ã€å†™å›ï¼‰ã€‚å­˜ç®—ä¸€ä½“åœ¨å­˜å‚¨å•å…ƒå†…å®Œæˆè®¡ç®—ï¼Œå‡å°‘æ•°æ®ç§»åŠ¨ã€‚è€ƒè™‘ä¸åŒå­˜å‚¨åª’ä»‹çš„è®¿é—®èƒ½è€—å’Œè®¡ç®—èƒ½è€—ã€‚</p>
                    </details>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer">
                        <p><strong>ç­”æ¡ˆï¼š</strong></p>
                        
                        <p><strong>1. SRAMæ¶æ„ï¼š</strong></p>
                        <ul>
                            <li>SRAMè¯»å–èƒ½è€—ï¼š5pJ/byte</li>
                            <li>MACè¿ç®—èƒ½è€—ï¼š0.5pJ/op (7nm)</li>
                            <li>æ¯æ¬¡MACéœ€è¦è¯»å–ï¼š2ä¸ªæ“ä½œæ•° + 1ä¸ªéƒ¨åˆ†å’Œ = 3Ã—4bytes = 12bytes</li>
                            <li>æ€»èƒ½è€—/op = 12bytes Ã— 5pJ/byte + 0.5pJ = 60.5pJ/op</li>
                            <li>1TOPSèƒ½è€— = 10Â¹Â² Ã— 60.5pJ = 60.5W</li>
                        </ul>
                        
                        <p><strong>2. HBM3æ¶æ„ï¼š</strong></p>
                        <ul>
                            <li>HBM3è®¿é—®èƒ½è€—ï¼š15pJ/byteï¼ˆå«PHYï¼‰</li>
                            <li>ç‰‡ä¸Šç¼“å­˜å‘½ä¸­ç‡ï¼šå‡è®¾90%</li>
                            <li>æœ‰æ•ˆè®¿é—®èƒ½è€—ï¼š0.9Ã—5pJ + 0.1Ã—15pJ = 6pJ/byte</li>
                            <li>æ€»èƒ½è€—/op = 12bytes Ã— 6pJ/byte + 0.5pJ = 72.5pJ/op</li>
                            <li>1TOPSèƒ½è€— = 72.5W</li>
                        </ul>
                        
                        <p><strong>3. ReRAMå­˜ç®—ä¸€ä½“ï¼š</strong></p>
                        <ul>
                            <li>æ¨¡æ‹ŸMACèƒ½è€—ï¼š0.1pJ/opï¼ˆå«DA/ADè½¬æ¢ï¼‰</li>
                            <li>æƒé‡å·²å­˜å‚¨åœ¨ReRAMä¸­ï¼Œæ— éœ€è¯»å–</li>
                            <li>è¾“å…¥æ•°æ®åŠ è½½ï¼š4bytes Ã— 2pJ/byte = 8pJï¼ˆæ¯ä¸ªå‘é‡å…ƒç´ ï¼‰</li>
                            <li>å‡è®¾å‘é‡é•¿åº¦128ï¼Œå…±äº«æ‘Šé”€ï¼š8pJ/128 = 0.0625pJ/op</li>
                            <li>æ€»èƒ½è€—/op = 0.1pJ + 0.0625pJ = 0.1625pJ/op</li>
                            <li>1TOPSèƒ½è€— = 0.1625W</li>
                        </ul>
                        
                        <p><strong>èƒ½æ•ˆå¯¹æ¯”ï¼š</strong></p>
                        <table>
                            <tr>
                                <th>æ¶æ„</th>
                                <th>èƒ½è€—(pJ/op)</th>
                                <th>1TOPSåŠŸè€—(W)</th>
                                <th>èƒ½æ•ˆæå‡</th>
                            </tr>
                            <tr>
                                <td>SRAM</td>
                                <td>60.5</td>
                                <td>60.5</td>
                                <td>1Ã—</td>
                            </tr>
                            <tr>
                                <td>HBM3</td>
                                <td>72.5</td>
                                <td>72.5</td>
                                <td>0.83Ã—</td>
                            </tr>
                            <tr>
                                <td>ReRAM PIM</td>
                                <td>0.1625</td>
                                <td>0.1625</td>
                                <td>372Ã—</td>
                            </tr>
                        </table>
                        
                        <p><strong>ç»“è®ºï¼š</strong>å­˜ç®—ä¸€ä½“æ¶æ„åœ¨èƒ½æ•ˆä¸Šå…·æœ‰æ•°é‡çº§ä¼˜åŠ¿ï¼Œä½†éœ€è¦è€ƒè™‘ç²¾åº¦ã€è‰¯ç‡å’Œç¼–ç¨‹å¤æ‚åº¦ç­‰å› ç´ ã€‚</p>
                    </div>
                </div>
                
                <div class="question">
                    <p><strong>é¢˜ç›®9.4ï¼š</strong>è®¾è®¡ä¸€ä¸ªæ¶²å†·ç³»ç»Ÿç”¨äºå†·å´300Wçš„NPUèŠ¯ç‰‡ï¼ˆèŠ¯ç‰‡é¢ç§¯600mmÂ²ï¼‰ã€‚è®¡ç®—æ‰€éœ€çš„æµé‡ã€æ¸©å‡ï¼Œå¹¶é€‰æ‹©åˆé€‚çš„å†·å´æ–¹æ¡ˆã€‚ç¯å¢ƒæ¸©åº¦35Â°Cï¼ŒèŠ¯ç‰‡æœ€é«˜ç»“æ¸©105Â°Cã€‚</p>
                    <details class="hint">
                        <summary>ğŸ’¡ æç¤º</summary>
                        <p>æ€è€ƒæ–¹å‘ï¼šçƒ­é˜»é“¾ï¼šèŠ¯ç‰‡â†’TIMâ†’å†·å¤´â†’å†·å´æ¶²â†’ç¯å¢ƒã€‚ä½¿ç”¨Q=mÃ—cÃ—Î”Tè®¡ç®—æµé‡ã€‚åŠŸè€—å¯†åº¦=300W/600mmÂ²=0.5W/mmÂ²å¾ˆé«˜ï¼Œéœ€è¦é«˜æ•ˆå†·å´ã€‚</p>
                    </details>
                    <button class="toggle-answer">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div class="answer">
                        <p><strong>ç­”æ¡ˆï¼š</strong></p>
                        
                        <p><strong>çƒ­è®¾è®¡å‚æ•°ï¼š</strong></p>
                        <ul>
                            <li>æ€»åŠŸè€—ï¼š300W</li>
                            <li>èŠ¯ç‰‡é¢ç§¯ï¼š600mmÂ²</li>
                            <li>åŠŸè€—å¯†åº¦ï¼š300W / 6cmÂ² = 50W/cmÂ²</li>
                            <li>å…è®¸æ¸©å‡ï¼š105Â°C - 35Â°C = 70Â°C</li>
                        </ul>
                        
                        <p><strong>çƒ­é˜»é¢„ç®—ï¼š</strong></p>
                        <ul>
                            <li>æ€»çƒ­é˜»è¦æ±‚ï¼š70Â°C / 300W = 0.233Â°C/W</li>
                            <li>ç»“åˆ°å£³çƒ­é˜»ï¼ˆTIMï¼‰ï¼š0.05Â°C/W</li>
                            <li>å†·æ¿çƒ­é˜»é¢„ç®—ï¼š0.233 - 0.05 = 0.183Â°C/W</li>
                        </ul>
                        
                        <p><strong>å†·æ¿è®¾è®¡ï¼š</strong></p>
                        <div class="code-block">
// å¾®é€šé“å†·æ¿å‚æ•°
é€šé“å®½åº¦ = 0.2mm
é€šé“é«˜åº¦ = 2mm
é€šé“é—´è· = 0.3mm
é€šé“æ•°é‡ = 600mm / 0.5mm = 1200æ¡

// æµé‡è®¡ç®—ï¼ˆæ°´å†·ï¼‰
æ¯”çƒ­å®¹ = 4.18 kJ/(kgÂ·Â°C)
å¯†åº¦ = 1000 kg/mÂ³
å…è®¸æ¸©å‡ = 10Â°C

æ‰€éœ€æµé‡ = Q / (Ï Ã— Cp Ã— Î”T)
        = 300W / (1000 Ã— 4180 Ã— 10)
        = 7.18 Ã— 10â»â¶ mÂ³/s
        = 0.43 L/min

// è€ƒè™‘å®‰å…¨è£•é‡
è®¾è®¡æµé‡ = 0.43 Ã— 2 = 0.86 L/min
                        </div>
                        
                        <p><strong>å‹é™å’Œæ³µåŠŸç‡ï¼š</strong></p>
                        <ul>
                            <li>å¾®é€šé“å‹é™ï¼šçº¦50kPa</li>
                            <li>ç³»ç»Ÿæ€»å‹é™ï¼šçº¦100kPa</li>
                            <li>æ³µåŠŸç‡ï¼š(0.86L/min Ã— 100kPa) / (60 Ã— 0.7) â‰ˆ 2W</li>
                        </ul>
                        
                        <p><strong>æ–¹æ¡ˆå¯¹æ¯”ï¼š</strong></p>
                        <table>
                            <tr>
                                <th>å†·å´æ–¹æ¡ˆ</th>
                                <th>èƒ½åŠ›(W/cmÂ²)</th>
                                <th>å¤æ‚åº¦</th>
                                <th>æˆæœ¬</th>
                            </tr>
                            <tr>
                                <td>å¾®é€šé“æ¶²å†·</td>
                                <td>100</td>
                                <td>ä¸­</td>
                                <td>ä¸­</td>
                            </tr>
                            <tr>
                                <td>å–·é›¾å†·å´</td>
                                <td>200</td>
                                <td>é«˜</td>
                                <td>é«˜</td>
                            </tr>
                            <tr>
                                <td>æµ¸æ²¡å¼å†·å´</td>
                                <td>500</td>
                                <td>ä¸­</td>
                                <td>é«˜</td>
                            </tr>
                        </table>
                        
                        <p><strong>æ¨èæ–¹æ¡ˆï¼š</strong>å¾®é€šé“æ¶²å†·ï¼Œé…åˆå†—ä½™è®¾è®¡ï¼Œç¡®ä¿å¯é æ€§ã€‚</p>
                    </div>
                </div>
            </div>
        </div>
        </div>
        
        <div class="chapter-nav">
            <a href="chapter8.html" class="prev">ä¸Šä¸€ç« </a>
            <a href="chapter10.html" class="next">ä¸‹ä¸€ç« </a>
        </div>
    </div>
</body>
</html>